{
  "version": 3,
  "sources": ["browser-route-module:/home/harry/repos/remix_explore/app/routes/admin/new.tsx?browser", "../../../../app/routes/admin/new.tsx"],
  "sourcesContent": ["export { default } from \"/home/harry/repos/remix_explore/app/routes/admin/new.tsx\";", "import { redirect, Form } from \"remix\";\nimport type { ActionFunction } from \"remix\";\nimport { createPost } from \"~/post\";\n\nexport const action: ActionFunction = async ({ request }) => {\n    const formData = await request.formData();\n\n    const title = formData.get(\"title\");\n    const slug = formData.get(\"slug\");\n    const markdown = formData.get(\"markdown\");\n\n    const errors = {};\n    if (!title) errors.title = true;\n    if (!slug) errors.slug = true;\n    if (!markdown) errors.markdown = true;\n\n    if (Object.keys(errors).length) {\n        return errors;\n    }\n\n    await createPost({ title, slug, markdown });\n\n    return redirect(\"/admin\");\n}\n\nexport default function NewPost() {\n    const errors = useActionData()\n\n    return (\n        <Form method=\"post\">\n            <p>\n                <label>\n                    Post Title:{\" \"}\n                    {errors?.title ? (\n                        <em>Title is required</em>\n                    ) : null}\n                    <input type=\"text\" name=\"title\" />\n                </label>\n            </p>\n            <p>\n        <label>\n          Post Slug:{\" \"}\n          {errors?.slug ? <em>Slug is required</em> : null}\n          <input type=\"text\" name=\"slug\" />\n        </label>\n      </p>\n      <p>\n        <label htmlFor=\"markdown\">Markdown:</label>{\" \"}\n        {errors?.markdown ? (\n          <em>Markdown is required</em>\n        ) : null}\n        <br />\n        <textarea rows={20} name=\"markdown\" />\n      </p>\n            <p>\n                <button type=\"submit\">Create Post</button>\n            </p>\n        </Form>\n    )\n}"],
  "mappings": ";;;;;;;AAAA;;;ACAA;AAyBe,mBAAmB;AAC9B,QAAM,SAAS;AAEf,SACI,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACT,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,eACS,KACX,kCAAQ,SACL,oCAAC,MAAD,MAAI,uBACJ,MACJ,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACJ,oCAAC,SAAD,MAAO,cACM,KACV,kCAAQ,QAAO,oCAAC,MAAD,MAAI,sBAAwB,MAC5C,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAG5B,oCAAC,KAAD,MACE,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,cAAkB,KAC3C,kCAAQ,YACP,oCAAC,MAAD,MAAI,0BACF,MACJ,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,MAAM;AAAA,IAAI,MAAK;AAAA,OAErB,oCAAC,KAAD,MACI,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KAAS;AAAA;",
  "names": []
}
