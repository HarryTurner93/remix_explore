{
  "version": 3,
  "sources": ["browser-route-module:/home/harry/repos/remix_explore/app/routes/admin/new.tsx?browser", "../../../../app/routes/admin/new.tsx"],
  "sourcesContent": ["export { default } from \"/home/harry/repos/remix_explore/app/routes/admin/new.tsx\";", "import { redirect, Form } from \"remix\";\nimport type { ActionFunction } from \"remix\";\nimport { createPost } from \"~/post\";\n\nexport const action: ActionFunction = async ({ request }) => {\n    const formData = await request.formData();\n\n    const title = formData.get(\"title\");\n    const slug = formData.get(\"slug\");\n    const markdown = formData.get(\"markdown\");\n\n    const errors = {};\n    if (!title) errors.title = true;\n    if (!slug) errors.slug = true;\n    if (!markdown) errors.markdown = true;\n\n    if (Object.keys(errors).length) {\n        return errors;\n    }\n\n    await createPost({ title, slug, markdown });\n\n    return redirect(\"/admin\");\n}\n\nexport default function NewPost() {\n    const errors = useActionData()\n\n    return (\n        <Form method=\"post\">\n            <p>\n                <label>\n                    Post Title:{\" \"}\n                    {errors?.title ? (\n                        <em>Title is required</em>\n                    ) : null}\n                    <input type=\"text\" name=\"title\" />\n                </label>\n            </p>\n            <p>\n                <label>\n                    Post Slug: <input type=\"text\" name=\"slug\" />\n                </label>\n            </p>\n            <p>\n                <label htmlFor=\"markdown\">Markdown:</label>\n                <br />\n                <textarea id=\"markdown\" rows={20} name=\"markdown\" />\n            </p>\n            <p>\n                <button type=\"submit\">Create Post</button>\n            </p>\n        </Form>\n    )\n}"],
  "mappings": ";;;;;;;AAAA;;;ACAA;AAyBe,mBAAmB;AAC9B,QAAM,SAAS;AAEf,SACI,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACT,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,eACS,KACX,kCAAQ,SACL,oCAAC,MAAD,MAAI,uBACJ,MACJ,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,eACQ,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAG3C,oCAAC,KAAD,MACI,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,cAC1B,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,IAAG;AAAA,IAAW,MAAM;AAAA,IAAI,MAAK;AAAA,OAE3C,oCAAC,KAAD,MACI,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KAAS;AAAA;",
  "names": []
}
